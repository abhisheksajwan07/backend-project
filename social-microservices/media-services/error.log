{"level":"error","message":"Error creating media Must supply api_key","service":"media-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\index.js:1151:16)\n    at Object.process_request_params (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\index.js:1203:22)\n    at call_api (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:11:10)\n    at uploadMedia (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/controller/media.controller.js:24:42)","timestamp":"2025-10-22T09:12:00.227Z"}
{"level":"error","message":"Error creating media Must supply api_key","service":"media-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\index.js:1151:16)\n    at Object.process_request_params (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\index.js:1203:22)\n    at call_api (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:11:10)\n    at uploadMedia (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/controller/media.controller.js:24:42)","timestamp":"2025-10-22T09:13:57.548Z"}
{"level":"error","message":"Error creating media Must supply api_key","service":"media-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\index.js:1151:16)\n    at Object.process_request_params (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\index.js:1203:22)\n    at call_api (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:11:10)\n    at uploadMedia (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/controller/media.controller.js:24:42)","timestamp":"2025-10-22T09:15:16.626Z"}
{"level":"error","message":"Error creating media Must supply api_key","service":"media-service","stack":"Error: Must supply api_key\n    at ensureOption (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\index.js:1151:16)\n    at Object.process_request_params (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\utils\\index.js:1203:22)\n    at call_api (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:11:10)\n    at uploadMedia (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/controller/media.controller.js:24:42)","timestamp":"2025-10-22T09:15:37.657Z"}
{"level":"error","message":"Error creating media Cannot read properties of undefined (reading 'buffer')","service":"media-service","stack":"TypeError: Cannot read properties of undefined (reading 'buffer')\n    at file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:28:27\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/cloudinary.js:13:10)\n    at uploadMedia (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/controller/media.controller.js:24:42)\n    at Layer.handleRequest (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\router\\lib\\route.js:157:13)\n    at file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/middleware/multer.js:34:5\n    at done (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\multer\\lib\\make-middleware.js:59:7)\n    at indicateDone (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\multer\\lib\\make-middleware.js:63:68)\n    at Multipart.<anonymous> (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\multer\\lib\\make-middleware.js:187:7)","timestamp":"2025-10-22T09:27:39.296Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","error":{"http_code":499,"message":"Request Timeout","name":"TimeoutError"},"exception":{"error":{"http_code":499,"message":"Request Timeout","name":"TimeoutError"}},"level":"error","message":"Unhandled Rejection at","service":"media-service","timestamp":"2025-10-22T09:28:40.008Z"}
{"_message":"Media validation failed","errors":{"MimeType":{"kind":"required","message":"Path `MimeType` is required.","name":"ValidatorError","path":"MimeType","properties":{"message":"Path `MimeType` is required.","path":"MimeType","type":"required"}}},"level":"error","message":"Error creating media Media validation failed: MimeType: Path `MimeType` is required.","service":"media-service","stack":"ValidationError: Media validation failed: MimeType: Path `MimeType` is required.\n    at Document.invalidate (C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\mongoose\\lib\\document.js:3123:17\n    at C:\\Users\\abhis\\OneDrive\\Desktop\\backend-project\\social-microservices\\media-services\\node_modules\\mongoose\\lib\\schemaType.js:1420:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-10-22T09:40:29.351Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:24:36.415Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:24:51.332Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:25:51.708Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:25:51.713Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:26:37.562Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:26:37.568Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:33:21.669Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:33:21.673Z"}
{"level":"error","message":"Failed to connect to server Cannot read properties of null (reading 'assertQueue')","service":"media-service","stack":"TypeError: Cannot read properties of null (reading 'assertQueue')\n    at consumeEvent (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/rabbitmq.js:38:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/server.js:43:5)","timestamp":"2025-10-22T17:33:21.674Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:33:34.428Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-22T17:33:34.433Z"}
{"level":"error","message":"Failed to connect to server Cannot read properties of null (reading 'assertQueue')","service":"media-service","stack":"TypeError: Cannot read properties of null (reading 'assertQueue')\n    at consumeEvent (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/rabbitmq.js:38:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/server.js:43:5)","timestamp":"2025-10-22T17:33:34.433Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-23T06:11:09.190Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-23T06:11:09.195Z"}
{"level":"error","message":"Failed to connect to server Cannot read properties of null (reading 'assertQueue')","service":"media-service","stack":"TypeError: Cannot read properties of null (reading 'assertQueue')\n    at consumeEvent (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/rabbitmq.js:38:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/server.js:43:5)","timestamp":"2025-10-23T06:11:09.195Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-23T06:11:57.567Z"}
{"code":"ECONNREFUSED","level":"error","message":"error connecting to rabbit mq","service":"media-service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","timestamp":"2025-10-23T06:11:57.574Z"}
{"level":"error","message":"Failed to connect to server Cannot read properties of null (reading 'assertQueue')","service":"media-service","stack":"TypeError: Cannot read properties of null (reading 'assertQueue')\n    at consumeEvent (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/utils/rabbitmq.js:38:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async startServer (file:///C:/Users/abhis/OneDrive/Desktop/backend-project/social-microservices/media-services/src/server.js:43:5)","timestamp":"2025-10-23T06:11:57.574Z"}
